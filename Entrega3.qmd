---
title: "Entrega3"
author: "Ángel García, Arnau Piferrer y Guillem Serra"
format: html
editor: visual
---


<!-- Aixo per fer es beamer https://bookdown.org/yihui/rmarkdown/beamer-presentation.html -->

<!-- data set original https://archive.ics.uci.edu/dataset/45/heart+disease -->

Este es el [repositorio](https://github.com/GSMir/Entrega3), y el data set lo hemos sacado de este [link](https://archive.ics.uci.edu/dataset/45/heart+disease)

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

```{r, message = FALSE}
library(readr)
library(tidyverse)
heartdisease = read_csv("https://archive.ics.uci.edu/ml/machine-learning-databases/heart-disease/processed.cleveland.data", col_names = FALSE, show_col_types = FALSE)
```

```{r}
heartdisease = heartdisease %>% rename(age = X1, sex = X2, cp = X3, restbp = X4, chol = X5, fbs = X6, restecg = X7, maxHR = X8, exang = X9, expeak = X10, slope = X11, mves = X12, tHR = X13, fdiag = X14)

heartdisease = heartdisease %>% filter(!str_detect(tHR, "\\?") & (!str_detect(mves, "\\?")))
```


```{r}
heartdisease <- heartdisease %>%
    mutate(mves2 = as.numeric(heartdisease$mves), .after = mves) %>%
    select(-mves) %>%
    rename(mves = mves2)
```

El objetivo del estudio original es detectar la presencia de enferemedades del corazón en un paciente. Hay `r nrow(heartdisease)` visualizaciones de `r ncol(heartdisease)` variables.

<!-- Cambiar nom de algunes de ses vairiables, perque tenguin mes sentit -->

Describamos ahora las variables:

<!-- Gráfico de los electrocardiogramas -->

```{r, fig.cap = "Electrocardiograma", out.width = '50%'}
knitr::include_graphics("SinusRhythmLabels.svg.png")
```

-   **age**: Año del paciente, valor entero, con un mínimo de 29 y un máximo de 77 años.

-   **sex**: Sexo cromosómico del paciente, variable categórica, toma el valor 0 para el femenino y 1 para el masculino.

-   **cp**: "Chest Pain" hace referencia al tipo de dolor que se sufre en el pecho, es una variable categórica. Toma los valores 1 para angina de pecho típica, 2 para angina de pecho atípica, 3 para dolores que no son de angina de pecho, 4 asintomático.

-   **restbp**: Presión de la sangre en reposo (mm Hg), una variable numérica, con el valor mínimo en 94 y el valor máximo en 200.

-   **chol**: Colesterol en sangre (mg/dl), variable numérica con un mínimo de 126 y un máximo de 564.

-   **fbs**: Booleano que determina si la cantidad de azúcar en sangre en ayuno es mayor a 120mg/dl, toma el valor 0 para negarlo, y 1 para afirmarlo.

-   **restecg**: Resultados del electrocardiograma en reposo, una variable categórica, que indica unos resultados normales con un 0, con un 1 indica anomalías en el segmento ST-T (inversiones de las ondas T y/o elevaciones o depresiones de las ondas ST superiores a 0.05mV, y con un 2 indica una alta probabilidad o asegura una hipertrofia ventricular izquierda.

-   **maxHR**: Indica el ritmo cardíaco máximo alcanzado, con valor mínimo de 71, y valor máximo de 202.

-   **exang**: Booleano que indica si la angina se ha inducido por el ejercicio, tomando 1 como si, y 0 como no.

-   **expeak**: Indica la depresión en el segmento ST inducida por el ejercicio en relación con el reposo. Con valor mínimmo de 0, y valor máximo de 6.200

-   **slope**: Indica la pendiente en la cima del segmento ST de ejercicio. Toma el 0 cuando la pendiente es positiva, 1 cuando la pendiente es nula, y 2 cuando la pendiente es negativa.

-   **mves**: Número de vasos principales coloreados por fluoroscopía. Toma valores enteros entre 0 y 3, inclusive.

-   **tHR**: Variable categória que indica el tipo de ritmo cardíaco. Toma el valor 3 para el ritmo normal, 6 para defecto reparado, y 7 para defecto reversible.

-   **fdiag**: Booleano para el diagnosis de la enfermedad del corazón. Toma el 0 cuando la reducción del diámetro es menor al 50%, y 1 cuando es superior al 50%.

- **mves**: Variable categórica que determina el número de vasos sanguíneos mayores.

<!--- COMENTARIOS:

Se deixa sa pregunta per es resultats que es treguin des treball, i la formulam després.

1) fdiag és correcte?
2) augmenten amb es anys?
3) diferencies de sexe?
si en general hi ha mateixes mesures de sa majoria de variables per sexe, o algunes més elevades etc.? 

--->
